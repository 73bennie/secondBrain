#!/usr/bin/env bash
set -euo pipefail
DB="${SB_DB:-$HOME/.secondbrain/brain.db}"

if [[ $# -ne 1 ]]; then
  echo "Usage: sb-project <project_id>"
  exit 1
fi

pid="$1"
if ! [[ "$pid" =~ ^[0-9]+$ ]]; then
  echo "project_id must be a number"
  exit 1
fi

sqlite3 -column -header "$DB" "
SELECT id, name, status, next_action, notes, updated_at
FROM projects
WHERE id=$pid;
"
